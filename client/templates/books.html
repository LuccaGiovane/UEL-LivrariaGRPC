{% extends "base.html" %}

{% block content %}
<h1>Books</h1>
<table>
    <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Year</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Add to Cart</th>
    </tr>
    {% for book in books %}
    <tr>
        <td>{{ book.title }}</td>
        <td>{{ book.author }}</td>
        <td>{{ book.year }}</td>
        <td>{{ book.quantity }}</td>
        <td>{{ "%.2f"|format(book.price) }}</td>
        <td>
            <form method="POST" action="{{ url_for('add_to_cart') }}">
                <input type="hidden" name="book_id" value="{{ book.id }}">
                <input type="number" name="quantity" min="1" max="{{ book.quantity }}" value="1">
                <input type="submit" value="Add to Cart">
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
